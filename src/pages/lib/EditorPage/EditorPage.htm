<div class="root-editor-page">
	<div class="editor-header">
		<span>Oscript Editor</span>
		<div v-if="badge" class="editor-header-badge">{{badge}}</div>
	</div>
	<div class="editor-controls">
		<div class="editor-controls-checkbox">
			Wrap lines:
			<input type="checkbox" :checked="wrapLines" @change="handleWrapLinesCheckbox">
		</div>
		<div class="editor-controls-select">
			Theme:
			<select @change="handleThemeSelect" :value="theme">
				<option>dark</option>
				<option>white</option>
			</select>
		</div>
		<div class="editor-controls-select">
			<div class="agent-actions" :class="{ renaming: isRenamingActive }">
				<div class="agent-actions-rename" v-show="isRenamingActive">
					<input
						@keyup.enter="handleAgentActionRenameDone"
						@keyup.esc="handleAgentActionRenameCancel"
						@blur="handleAgentActionRenameCancel"
						ref="renameInputEl"
						class="agent-actions-rename-input"
						type="text" v-model="renameInput"
					>
				</div>
				<div v-show="isSelectedAgentUser && !isRenamingActive" class="agent-actions-action edit" title="Rename Agent" @click="handleAgentActionRename">
					<img class="agent-actions-action-img" src="static/images/icons/edit.png">
				</div>
				<div v-show="isSelectedAgentUser && isRenamingActive" class="agent-actions-action rename" title="Done" @mousedown="handleAgentActionRenameDone">
					<img class="agent-actions-action-img" src="static/images/icons/check.png">
				</div>
				<div v-show="isSelectedAgentUser && !isRenamingActive" class="agent-actions-action delete" title="Delete Agent" @click="handleAgentActionDelete">
					<img class="agent-actions-action-img" src="static/images/icons/delete.png">
				</div>
				<div v-show="!isRenamingActive" class="agent-actions-action add" title="New Agent" @click="handleAgentActionNew">
					<img class="agent-actions-action-img" src="static/images/icons/add.png">
				</div>
			</div>
			AAs:
			<select @change="handleTemplateSelect" :value="selectedAgent.id" :disabled="isRenamingActive">
				<optgroup v-if="userAgents.length" label="Autonomous Agents:">
					<option v-for="agent in userAgents" :value="agent.id">{{ agent.label }}</option>
				</optgroup>
				<optgroup label="Templates:">
					<option v-for="agent in templates" :value="agent.id">{{ agent.label }}</option>
				</optgroup>
			</select>
		</div>
	</div>
	<div class="editor-container" :class="`theme-${theme}`">
		<monaco-editor
			:options="editorOptions"
			ref="editor"
			class="editor"
			v-model="code"
			:language="language"
			:theme="theme"
		/>
	</div>
	<transition name="collapse">
		<div
			v-if="resultPaneOpened"
			class="result-pane-container"
			:class="`theme-${theme}`"
		>
			<monaco-editor
				class="result-pane"
				:options="resultPaneEditorOptions"
				v-model="resultMessage"
				language="result-highlighter"
				:theme="theme"
			/>
		</div>
	</transition>
	<div class="actions-row">
		<div class="actions-row-action" @click="validate">Validate</div>
		<div class="actions-row-action" @click="deploy">Deploy</div>
	</div>
	<div class="socials-row">
		<div class="social">
			<a href="https://developer.obyte.org/autonomous-agents">
				<img src="static/images/icons/obyte.png" title="AA Documentation">
			</a>
		</div>
		<div class="social">
			<a href="https://github.com/byteball/oscript-editor">
				<img src="static/images/icons/github.png" title="GitHub Repository">
			</a>
		</div>
	</div>
</div>
